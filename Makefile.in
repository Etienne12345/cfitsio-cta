#
# Makefile for cfitsio library:
#       libcfits.a
#
#       JDD
#       NASA GSFC
#       March, 1996
#

SHELL = /bin/sh
RANLIB=@RANLIB@
CC=@CC@


all:	
		@echo \
		"cfitsio: Please enter stand_alone or install as a target."

stand_alone:	libcfitsio.a

libcfitsio.a:	psplit
		@psplit cfileio.c convert.c fitscore.c getcol.c \
			getkey.c modkey.c putcol.c putkey.c \
			utilproc.c ; \
		echo "cfitsio: compiling split c files..."; \
		${CC} -c ${CFLAGS} tmp*.c; \
		ar rv libcfitsio.a tmp*.o; \
		${RANLIB} libcfitsio.a; \
		rm -f tmp*.c tmp*.h *.o;

install:        libcfitsio.a
		mv libcfitsio.a ../host/
        
clean:          
		rm -f *.o tmp*.c tmp*.h


psplit :
		${CC} ${CFLAGS} -o psplit psplit.c

.c.o:
		${CC} ${CFLAGS} -c -o $@ $*.c
